# 1Week_YunYoungJoo.md

## Title: [1Week] 윤영주

### 미션 요구사항 분석 & 체크리스트

---

매 주 제공되는 미션 별 요구사항을 기반으로 기능에 대한 분석을 진행한 후, 아래와 같은 체크리스트를 작성합니다.

- ‘어떻게 개발을 진행 할 것인지에 대한 방향성’을 확인하는 과정이기 때문에 최대한 깊이있게 분석 후 진행해주시기 바랍니다.


### 1주차 미션 요약
1. 종료 구현
2. 등록 구현
3. 등록 시 생성된 명언 번호 노출
4. 등록 할 때 마다 생성되는 명언번호 증가
5. 목록 구현
6. 명언 삭제
7. 존재하지 않는 명언 삭제에 대한 예외 처리
8. 명언 수정
9. 파일을 통한 영속성
10. data.json빌드

---

**[접근 방법]**

체크리스트를 중심으로 각각의 기능을 구현하기 위해 어떤 생각을 했는지 정리합니다.

- 무엇에 중점을 두고 구현하였는지, 어떤 공식문서나 예제를 참고하여 개발하였는지 뿐만 아니라 미션을 진행하기 전 개인적으로 실습한 것도 포함하여 작성해주시기 바랍니다.
- 실제 개발 과정에서 목표하던 바가 무엇이었는지 작성해주시기 바랍니다.
- 구현 과정에 따라 어떤 결과물이 나오게 되었는지 최대한 상세하게 작성해주시기 바랍니다.

### 1Week-Day1
1. 종료 구현

간단하게 종료가 입력 될 시 실행을 종료 하도록 구현했습니다.

2. 등록 구현~명인번호 증가

미션 2~4번을 한번에 구현 했습니다. 
idx라는 변수를 만들어서 한번 등록 할 떄 마다 1씩 증가 하게 구현 했습니다.
또 입력된 값을 Saying이라는 클래스를 생성하고, List를 생성하여
List의 타입을 Saying 클래스로 설정 하였습니다.
그 리스트에 번호 / 명언 / 작가  순서로 저장 하도록 구현 했습니다.

3. 목록 구현

목록이 입력 될 시 리스트에 저장 된 값을
번호 / 작가 / 명언 순서로 모두 출력 하도록 구현했습니다.

4. 명언 삭제 / 예외처리

삭제를 하기 위해서는 id?=1 형식의 입력을 받아야 하기 때문에
수업 시간에 강사님을 따라 구현 한 Rq를 가져와서 진행 했습니다.
Rq에서 처음 split 한 값을 가져오면 "삭제?id=2" 중에서 "삭제" 값을 가져올 수 있기때문에
rq.action() 매서드를 호출해서 값을 비교 해 주었습니다.

이 때 위에서 구현한 종료, 등록 도 모두 rq.action().equals("")를 사용해 비교 해주었습니다.

리스트에 저장된 idx 값과 rq.getParamAsInt("id",0) 을 해준 값이
같을 때 해당하는 리스트의 번호를 가져오는 매서드를 구현 후
해당하는 값을 지우도록 구현했습니다.

이 때 맞는 값이 없으면 %d번 명언은 존재하지 않습니다 라는 문구가 출력되도록 구현했습니다.

5. 명언 수정

삭제와 마찬가지로 수정 할 명언을 리스트에서 찾고 값을 바꿔서 넣어주는 형식으로 구현했습니다.

6. 파일을 통한 영속성

난관에 봉착하게 되었습니다.

처음 구현한 코드에서는 파일에 저장 시 중복 값을 거르지 못하여
텍스트 파일에 계속 같은 값이 추가가 되었습니다.

그래서 중복 값을 만나면 파일에 저장 하지 않도록 구현했더니
이번에는 바로 직전 실행 값만 저장이 되는 현상이 발생했습니다.

예를 들어 실행을 3번 하고 각각 1개씩 명언 저장을 했다고 가정하면
3번째 실행을 했을때 목록을 치게 되면 첫번째 실행에서 저장된 값이
날라가는 것이었습니다.

이 과정에서 너무 막연하게 느껴져 강사님께 도움을 요청 하였습니다.

강사님께서 파일로 저장을 건너 뛰고 json을 공부해 보는 방법 vs 텍스트 파일을 계속 시도해보는것 

두가지 방법을 추천 해 주셨고 파일에 대해 제가 접근한 방법이 틀린것은 아니라고 말씀 해 주셨습니다.
그래서 우선 포기하지 않고 계속 고민을 이어나갔습니다.

고민을 정말 오래 했지만 너무나 허무하게 해결이 되었습니다.
중복 값을 검색 하기 전에 이전에 텍스트 파일에 저장 되어 있던 값을
불러와서 다시 적는 과정을 추가 했더니 해결이 되었습니다.

이 과정에서 코드를 조금 더 세밀히 분석하고 시뮬레이션을 돌려 보았더라면 하는 생각이 들었습니다.

사소한 부분을 놓쳐서 오래 고민하게 된 것이 교훈이 되었지만
한편으로는 조금 아쉬웠기 때문에 다음에도 비슷한 케이스가 생기면
조금 더 면밀히 작성한 코드를 분석 해 볼 수 있으면 좋을 것 같다고 생각 했습니다.

7. if문을 switch문으로 변경

가독성을 좋게 하기 위해서 switch문으로 변경하였습니다.

### 1Week-Day2

1. 커밋명 수정

커밋명 작성 할 때 한글을 완벽하게 지우지 않아서 생기는 오류 문자들이 포함되어
git rebase -i HEAD~8 명령어를 통해 최근~8개 커밋에 접근 후
pick 을 reword로 수정, 커밋명 수정 모드에 들어가 오타를 모두 지웠습니다.

깃에 이미 push를 해버린 커밋들이라 반영 하려면 git push origin 1Week --force 명령어를 사용 했어야 했는데
협업 프로젝트가 아닌 개인 프로젝트라서 무사히 해당 명령어를 사용 할 수 있었습니다.

협업이었다면 문제가 복잡 해 질 수 있었을텐데 개인 프로젝트에서 이런 일을 겪어봐서 다행이고 push를 하기 전에
커밋명에 오타가 없는지 좀 더 면밀히 검토 해 보는 습관을 길러야 한다는 생각이 들었습니다.

--force를 한 후 깃 허브를 살펴보니 개인 프로젝트라고 상관이 없는 것은 아니었습니다. 해당 작업을 하니 최근~8번 커밋까지의 커밋 날짜가 어제에서 오늘로 변경 되었습니다.

기간을 오래 두고 하는 프로젝트를 하던 도중에 이런 일이 발생 했다고 가정 해 보면 내가 언제 이 작업을 했는지 다시 찾아볼 수 없게 되어
불편함이 생길 것이라고 예상 되었습니다.

또, 처음에 --force를 해도 반영이 잘 안돼서 새 커밋을 생성 해야하나 하고 "커밋명 수정" 이라는 커밋을 생성 했었는데
그게 아니라 수정한 커밋명이 저장이 안되었던 것 이었습니다.
이로 인해 불필요한 커밋을 생성하게 되었는데 이 부분이 조금 아쉬운것 같습니다.

예상치 못한 상황을 겪었지만 이 일을 계기로 다음 프로젝트를 할 때는 더 발전 해 나갈 수 있을 것이라고 생각 되었습니다.

(이 과정은 처음에 gpt에게 질문, edit 명령어를 추천 받고 진행하다가 잘 안되어
관련 내용에 대한 블로그 글 https://jw910911.tistory.com/77 을 참고하여 reword 명령어로 진행 하였습니다.)

2. txt파일로 저장 -> json으로 저장

어제 txt파일로 저장/불러오기를 구현 했다면 오늘은 json 파일로 저장 / 불러오기를 구현 해 보았습니다.

시작 부터 고민이 생기게 되었습니다. txt 파일과 json 파일 두개에 동시에 저장이 되게 해야하나? 라는 고민이었습니다.

그래서 강사님께 이 문제에 대해 질문을 드렸더니 동시에 사용해도 되지만 백업을 할 것이 아니라면 하나만 사용해도 된다고 말씀 해주셨습니다.

그래서 txt 파일로 구현했던 매서드 2개를 주석처리 하고 그 내용을 json 파일로 저장 및 불러오기가 되게끔 구현 했습니다.

돌아가는 로직은 비슷했고 사용되는 함수들만 달라져서 관련 함수들에 대해 찾아 본 후 구현 할 수 있었습니다.

이 때 json의 편리한 점을 발견하게 되었습니다. 
txt 파일은 저장된 내용을 1줄씩 불러와서 사용한 구분자 대로 나누어서 다시 리스트에 넣어주어야 하는 번거로움이 있었는데
json 파일은 객체를 불러오면 자동으로 리스트에 넣어 줄 수 있었습니다. 

대신 이 때 역직렬화 라는 과정이 필요해서 Saying이라는 클래스에 기본 생성자를 추가 해주어야 했습니다.
역직렬화에 대해 찾아보니 json 파일로 저장된 값을 원래의 객체인 Saying으로 복원하는 과정 임을 알게 되었습니다.
 
이렇게 해서 10단계 까지 모두 구현 하게 되었습니다.

내일은 지금까지 작성한 코드들을 리팩토링 해보고 싶은데 사실 제일 자신이 없는 부분이라 조금 걱정이 되지만 열심히 구상해서 해 낼 수 있도록 해보겠습니다.

(오늘까지의 구현 중 파일로 저장, json으로 저장하는 부분은 gpt와 여러 블로그 들을 참고 해서 구현 하였습니다. )

### 1Week-Day3



**[특이사항]**

구현 과정에서 아쉬웠던 점 / 궁금했던 점을 정리합니다.

- 추후 리팩토링 시, 어떤 부분을 추가적으로 진행하고 싶은지에 대해 구체적으로 작성해주시기 바랍니다.

  **참고: [Refactoring]**

  - Refactoring 시 주로 다루어야 할 이슈들에 대해 리스팅합니다.
  - 1차 리팩토링은 기능 개발을 종료한 후, 스스로 코드를 다시 천천히 읽어보면서 진행합니다.
  - 2차 리팩토링은 피어리뷰를 통해 전달받은 다양한 의견과 피드백을 조율하여 진행합니다.